---
import PrimaryCta from "./PrimaryCta.astro";
import { Image } from "astro:assets";
---

<style>
    nav {
        position: sticky;
        top: 0;
        background-color: #000000;

        display: flex;
        justify-content: space-between;
        align-content: center;
        padding: 1rem 2rem;
        z-index: 99999;
    }

    ul {
        display: flex;
        list-style: none;
        padding: 0;
        font-weight: 700;
        gap: 40px;
    }

    li {
        display: grid;
        place-content: center;
    }

    #menu-button {
        position: absolute;
        display: none;
        background-color: transparent;
        border-color: transparent;
        z-index: 1000;
        width: 42px;
        height: 42px;
        top: 30px;
        right: 30px;
        padding: 0;
    }

    #sections li.home {
        display: none;
    }

    @media (max-width: 1090px) {
        nav.expanded > #matrix-logo {
            display: none;
        }

        #menu-button {
            display: block;
        }

        #sections.expanded ~ #menu-button > #hamburger-icon {
            display: none;
        }

        #sections:not(.expanded) ~ #menu-button > #close-icon {
            display: none;
        }

        #sections {
            display: none;
            margin-block-start: 5rem;
        }

        #sections.expanded {
            display: flex;
            flex-direction: column;
            font-size: 1.5rem;
        }

        #sections.expanded li {
            place-content: start;
        }

        #sections.expanded li.home {
            display: inline;
        }

        nav.expanded {
            position: sticky;
            inset: 0;
            padding-inline: 3rem;
            min-height: 100dvh;
        }
    }
</style>
<nav>
    <a id="matrix-logo" href="/">
        <img src="/matrix-logo.svg" alt="Home Page" />
    </a>
    <ul id="sections">
        <li class="home"><a href="/">Home</a></li>
        <li><a href="/about">About</a></li>
        <li><a href="/attend">Attend</a></li>
        <li><a href="/sponsor">Sponsor</a></li>
        <li><a href="/schedule">Schedule</a></li>
        <li><a href="/volunteer">Volunteer</a></li>
        <li><a href="/register">Tickets</a></li>
        <li><PrimaryCta href="/watch">Watch</PrimaryCta></li>
    </ul>

    <button id="menu-button" title="Menu button">
        <Image
            id="hamburger-icon"
            src="/hamburger.svg"
            width="42"
            height="42"
            alt="Hamburger icon menu"
        />
        <Image
            id="close-icon"
            src="/close.svg"
            width="42"
            height="42"
            alt="Cross icon menu"
        />
    </button>
</nav>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        document.querySelector("nac")?.classList.remove("expanded");
        document.querySelector("#sections")?.classList.remove("expanded");
    });

    document.addEventListener("DOMContentLoaded", () => {
        document
            .querySelector("#menu-button")
            ?.addEventListener("click", () => {
                document.querySelector("nav")?.classList.toggle("expanded");
                document
                    .querySelector("#sections")
                    ?.classList.toggle("expanded");
            });
    });
</script>
