---
interface Props {
    /**
      * For use in flex column layouts.
      * For wide layouts:
      * Shrink button to it's content size.
      * Align the button to the bottom.
      */
    flexBottom: boolean;
    href: string;
}

const { href, flexBottom } = Astro.props;
---

<style>
    :root {
        --purple: #ae7fe9;
        --blue: #75f4f4;
        --green: #a6ffa1;
        --yellow: #f6ae2d;
        --red: #f45b69;

        --gradient: linear-gradient(
            340deg,
            var(--red) 3%,
            var(--yellow) 25%,
            var(--green) 48%,
            var(--blue) 70%,
            var(--purple) 93%
        );

        --text-primary: #fff;
        --text-secondary: #b8b8b8;
        --bg-primary: #000;
        --bg-card: #1a1a1a;
        --border: #3c3f44;
        --border-interactive: #636569;
        --link-text: #0999ff;
    }

    .bracket-btn {
        position: relative;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0 24px;
        height: 44px;
        font-family: sans-serif;
        font-size: 1rem;
        font-weight: bold;
        background: var(--gradient);
        cursor: pointer;
        overflow: hidden;
        color: white;
        z-index: 100;
        text-decoration: none;
    }

    /* Make text layer above ::before */
    .bracket-btn .label {
        position: relative;
        color: var(--text-primary);
        transition: color 0.4s ease;
    }

    /* Black center background */
    .bracket-btn::before {
        content: "";
        position: absolute;
        top: 1px;
        bottom: 1px;
        left: 2px;
        right: 2px;
        background: var(--bg-primary);
    }

    /* Bracket borders */
    .bracket-btn::after {
        content: "";
        position: absolute;
        top: 0;
        bottom: 0;
        left: 6px;
        right: 6px;
        border-top: 1px solid var(--border);
        border-bottom: 1px solid var(--border);
        box-sizing: border-box;
        transition: opacity 0.4s ease;
        opacity: 1;
    }

    /* Hover effect */
    .bracket-btn:hover .label {
        color: var(--text-secondary);
    }
    .bracket-btn:hover::after {
        opacity: 0;
    }

    @media (min-width: 800px) {
        .bracket-btn.flexBottom {
            margin-top: auto;
            width: fit-content;
        }
    }
</style>
<a href={href} class={`bracket-btn ${flexBottom ? ' flexBottom' : ''}`}>
    <span class="label"><slot /></span>
</a>
